{"version":3,"sources":["../node_modules/peerjs/dist sync","store/reducers/localUser.reducer.js","store/actionTypes.js","store/reducers/peers.reducer.js","store/reducers/connections.reducer.js","store/reducers/calls.reducer.js","store/reducers/streams.reducer.js","store/reducers/index.js","store/index.js","style/theme/MainTheme.jsx","components/RoomLobby/RoomLobby.jsx","components/Room/RoomSidebar/RoomSidebar.jsx","components/Room/RoomPluginContent/RoomPluginContent.jsx","utils.js","components/Room/RoomMediaManager/GenericMediaCard/GenericMediaCard.jsx","store/streamStore.js","store/actions/streams.actions.js","store/actions/calls.actions.js","components/Room/RoomMediaManager/RemoteMediaCard/RemoteMediaCard.jsx","components/Room/RoomMediaManager/RemoteMediaManager/RemoteMediaManager.jsx","components/Room/RoomMediaManager/RoomMediaManager.jsx","store/actions/connections.actions.js","store/actions/localUser.actions.js","components/Room/Room.jsx","constants.js","components/Home/Home.jsx","components/RoomCreateForm/RoomCreateForm.jsx","components/App/App.jsx","index.jsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","initialState","peer","socket","metadata","nickname","error","localUserReducer","localPeer","action","type","payload","data","peerId","connection","call","peersReducer","peers","newData","connectionsReducer","connections","callsReducer","calls","console","log","streamsReducer","streams","isActive","reducer","combineReducers","localUser","store","createStore","composeWithDevTools","applyMiddleware","thunk","theme","createMuiTheme","palette","primary","main","secondary","useStyles","makeStyles","containerStyle","display","justifyContent","paddingTop","titleStyle","padding","color","fontWeight","backgroundColor","nicknameStyle","width","margin","textfieldLink","marginRight","marginLeft","nextButton","boxShadow","alignbutton","marginTop","RoomLobby","React","useState","name","setName","link","setLink","classes","ThemeProvider","Box","height","bgcolor","alignItems","paddingLeft","to","style","textDecoration","Container","className","flexDirection","borderRadius","Typography","variant","TextField","required","label","value","onChange","target","Button","size","list","fullList","menuIcon","RoomSidebar","state","setState","toggleDrawer","event","onClick","fontSize","Drawer","open","onClose","role","onKeyDown","List","map","text","index","ListItem","button","key","ListItemIcon","ListItemText","Divider","RoomPluginContent","flexGrow","setVideoSrc","videoRef","stream","muted","current","srcObject","oncanplay","play","root","cardWrapper","marginBottom","media","objectFit","GenericMediaCard","user","useRef","useEffect","Card","ref","streamStore","setStream","getStream","clearStream","getTracks","forEach","track","stop","clearAllStreams","Object","this","window","dispatch","getState","addCall","initCallListeners","on","remoteMediaStream","connect","ownProps","remotePeerId","remoteStream","localStream","handleStartCall","values","connectionId","roomMediaManager","startLocalStream","a","navigator","mediaDevices","getUserMedia","video","audio","mediaStream","localVideoRef","minWidth","addConnection","initConnectionListeners","removeConnection","parsedData","JSON","parse","textMessage","author","pluginData","initLocalUserPeerListeners","localStreamActive","answer","initLocalUser","queryParams","io","secure","query","object","entries","join","socketId","customPeerId","Peer","host","port","path","config","iceServers","url","joinRoom","roomId","password","emit","room","joinedUsers","match","params","conn","close","buttonStyle","border","outline","Home","gutterBottom","formControl","select","borderColor","textfield","alignButton","myButton","paper","spacing","textAlign","copyLink","subtitle","RoomCreateForm","status","setStatus","active","setActive","handleChangeTexfield","FormControl","InputLabel","Select","labelId","MenuItem","length","clipboard","writeText","App","CssBaseline","exact","component","Room","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90754d39.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 150;","import {INIT_LOCAL_USER_SOCKET, INIT_LOCAL_USER_PEER, SET_LOCAL_USER_METADATA, SET_LOCAL_USER_ERROR} from '../actionTypes';\r\n\r\nconst initialState = {\r\n    peer: null,\r\n    socket: null,\r\n    metadata: { nickname: 'Andi'},\r\n    error: null\r\n};\r\n\r\nconst localUserReducer = (localPeer = initialState, action) => {\r\n    switch (action.type) {\r\n        case INIT_LOCAL_USER_SOCKET: {\r\n            return {...localPeer, socket: action.payload.socket, error: null};\r\n        }\r\n        case INIT_LOCAL_USER_PEER: {\r\n            return {...localPeer, peer: action.payload.peer, error: null};\r\n        }\r\n        case SET_LOCAL_USER_METADATA: {\r\n            return {...localPeer, metadata: action.payload.metadata, error: null};\r\n        }\r\n        case SET_LOCAL_USER_ERROR: {\r\n            return {...localPeer, error: action.payload.error}\r\n        }\r\n        default: {\r\n            return localPeer;\r\n        }\r\n    }\r\n};\r\n\r\nexport default localUserReducer;\r\n\r\n","export const ADD_PEER = 'ADD_PEER';\r\nexport const REMOVE_PEER = 'REMOVE_PEER';\r\nexport const SET_PEERS_ERROR = 'SET_PEERS_ERROR';\r\n\r\nexport const ADD_CONNECTION = 'ADD_CONNECTION';\r\nexport const REMOVE_CONNECTION = 'REMOVE_CONNECTION';\r\nexport const SET_CONNECTIONS_ERROR = 'SET_CONNECTIONS_ERROR';\r\n\r\nexport const ADD_CALL = 'ADD_CALL';\r\nexport const REMOVE_CALL = 'REMOVE_CALL';\r\nexport const SET_CALLS_ERROR = 'SET_CALLS_ERROR';\r\n\r\n\r\nexport const SET_STREAM = 'SET_STREAM';\r\n// export const ADD_REMOTE_STREAM = 'ADD_REMOTE_STREAM';\r\n// export const REMOVE_REMOTE_STREAM = 'REMOVE_REMOTE_STREAM';\r\nexport const SET_STREAMS_ERROR = 'SET_STREAM_ERROR';\r\n\r\nexport const SET_CURRENT_ROOM = 'SET_CURRENT_ROOM';\r\nexport const SET_CURRENT_ROOM_ERROR = 'SET_CURRENT_ROOM_ERROR';\r\n\r\nexport const INIT_LOCAL_USER_SOCKET = 'INIT_LOCAL_USER_SOCKET';\r\nexport const INIT_LOCAL_USER_PEER = 'INIT_LOCAL_USER_PEER';\r\nexport const SET_LOCAL_USER_METADATA = 'SET_LOCAL_USER_METADATA';\r\nexport const SET_LOCAL_USER_ERROR = 'SET_LOCAL_USER_ERROR';\r\n","import {\r\n    ADD_PEER,\r\n    REMOVE_PEER,\r\n    SET_PEERS_ERROR,\r\n    ADD_CONNECTION,\r\n    REMOVE_CONNECTION,\r\n    ADD_CALL,\r\n    REMOVE_CALL,\r\n    SET_STREAM,\r\n} from '../actionTypes';\r\n\r\nconst initialState = {\r\n    data: {\r\n        'd7f7saim3': {nickname: 'Andi', peerId: 'dscdsv-csdvsdv-dvewvew-btrbrb3', connection: 'efewfgrger', call: 'fewfewfwef'},\r\n        '32mfdnmio': {nickname: 'Jimmy', peerId: 'ztjzt-ckhjgvv-dvewvew-b3cddrv', connection: 'vverberberb', call: 'vewrverbe'}\r\n    },\r\n    error: null\r\n};\r\n\r\nconst peersReducer = (peers = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_PEER: {\r\n            const peer = action.payload.peer;\r\n            return {data: {...peers.data, [peer.id]: peer}, error: null};\r\n        }\r\n        case REMOVE_PEER: {\r\n            const newData = {...peers.data};\r\n            const peer = action.payload.peer;\r\n            delete newData[peer.id];\r\n            return {data: newData, error: null};\r\n        }\r\n        case SET_PEERS_ERROR: {\r\n            return {...peers, error: action.payload.error};\r\n        }\r\n        case ADD_CONNECTION: {\r\n            return peers;\r\n        }\r\n        case REMOVE_CONNECTION: {\r\n            return peers;\r\n        }\r\n        case ADD_CALL: {\r\n            return peers;\r\n        }\r\n        case REMOVE_CALL: {\r\n            return peers;\r\n        }\r\n        case SET_STREAM: {\r\n            return peers;\r\n        }\r\n        default: {\r\n            return peers;\r\n        }\r\n    }\r\n};\r\n\r\nexport default peersReducer;\r\n\r\n","import {ADD_CONNECTION, REMOVE_CONNECTION, SET_CONNECTIONS_ERROR} from '../actionTypes';\r\n\r\nconst initialState = {\r\n    data: {},\r\n    error: null\r\n};\r\n\r\nconst connectionsReducer = (connections = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_CONNECTION: {\r\n            const connection = action.payload.connection;\r\n            return {data: {...connections.data, [connection.peer]: connection}, error: null};\r\n        }\r\n        case REMOVE_CONNECTION: {\r\n            const newData = {...connections.data};\r\n            const connection = action.payload.connection;\r\n            delete newData[connection.peer];\r\n            return {data: newData, error: null};\r\n        }\r\n        case SET_CONNECTIONS_ERROR: {\r\n            return {...connections, error: action.payload.error};\r\n        }\r\n        default: {\r\n            return connections;\r\n        }\r\n    }\r\n};\r\n\r\nexport default connectionsReducer;\r\n\r\n","import {ADD_CALL, REMOVE_CALL, REMOVE_CONNECTION, SET_CALLS_ERROR} from '../actionTypes';\r\n\r\nconst initialState = {\r\n    data: {},\r\n    error: null\r\n};\r\n\r\nconst callsReducer = (calls = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_CALL: {\r\n            const call = action.payload.call;\r\n            console.log('REDUCER ADD_CALL', call);\r\n            return {data: {...calls.data, [call.peer]: call}, error: null};\r\n        }\r\n        case REMOVE_CALL: {\r\n            const newData = {...calls.data};\r\n            const call = action.payload.call;\r\n            delete newData[call.id];\r\n            return {data: newData, error: null};\r\n        }\r\n        // case REMOVE_CONNECTION: {\r\n        //     const peerId = action.payload.connection.peer;\r\n        //     const call = calls[peerId];\r\n        //\r\n        //     if (call) {\r\n        //         const newData = {...calls.data};\r\n        //         delete newData[peerId];\r\n        //         return {...calls, data: newData, error: null};\r\n        //     } else {\r\n        //         return calls;\r\n        //     }\r\n        // }\r\n        case SET_CALLS_ERROR: {\r\n            return {...calls, error: action.payload.error};\r\n        }\r\n        default: {\r\n            return calls;\r\n        }\r\n    }\r\n};\r\n\r\nexport default callsReducer;\r\n\r\n","import {SET_STREAM, SET_STREAMS_ERROR} from '../actionTypes';\r\n\r\nconst initialState = {\r\n    data: {},\r\n    error: null\r\n};\r\n\r\nconst streamsReducer = (streams = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_STREAM: {\r\n            const {peerId, isActive} = action.payload;\r\n            return {data: {...streams.data, [peerId]: isActive}, error: null};\r\n        }\r\n        case SET_STREAMS_ERROR: {\r\n            return {...streams, error: action.payload.error};\r\n        }\r\n        default: {\r\n            return streams;\r\n        }\r\n    }\r\n};\r\n\r\nexport default streamsReducer;\r\n","import { combineReducers } from 'redux';\r\nimport roomReducer from './room.reducer';\r\nimport localUserReducer from \"./localUser.reducer\";\r\nimport peersReducer from './peers.reducer';\r\nimport connectionsReducer from './connections.reducer';\r\nimport callsReducer from './calls.reducer';\r\nimport streamsReducer from \"./streams.reducer\";\r\n\r\nconst reducer = combineReducers({\r\n    // room: roomReducer,\r\n    localUser: localUserReducer,\r\n    peers: peersReducer,\r\n    calls: callsReducer,\r\n    connections: connectionsReducer,\r\n    streams: streamsReducer\r\n});\r\n\r\nexport default reducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main: '#E53935'\r\n        },\r\n        secondary: {\r\n            main: '#FB8C00'\r\n        }\r\n    }\r\n})\r\n\r\nexport default theme","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport { ThemeProvider, makeStyles } from '@material-ui/core/styles';\r\nimport theme from '../../style/theme/MainTheme';\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\n\r\nconst useStyles = makeStyles ({\r\n    containerStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        paddingTop: '128px'\r\n    },\r\n    titleStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        padding: '16px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        backgroundColor: '#FB8C00',\r\n    },\r\n    nicknameStyle: {\r\n        width: '616px',\r\n        margin: '16px',\r\n    },\r\n    textfieldLink: {\r\n        width: '616px',\r\n        marginRight: '16px',\r\n        marginLeft: '16px',\r\n    },\r\n    nextButton: {\r\n        color: 'white',\r\n        boxShadow: 'none',\r\n        width: '422px',\r\n\r\n    },\r\n    alignbutton: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        marginTop: '24px',\r\n    }\r\n});\r\n\r\nconst RoomLobby = () => {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n    const classes = useStyles();\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value)\r\n    };\r\n\r\n    const handleChangeLink = (e) => {\r\n        setLink(e.target.value)\r\n    };\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <Box \r\n            display='flex'\r\n            height={63}\r\n            bgcolor='#E53935'\r\n            alignItems='center'\r\n            paddingLeft='36px'\r\n            >\r\n                <Link to=\"/\" style={{ textDecoration: 'none', color: 'white'}}>\r\n                        <ArrowBackIosIcon/>\r\n                </Link> \r\n            </Box>\r\n            <Container\r\n                className={classes.containerStyle}\r\n            >\r\n                <Box\r\n                display='flex'\r\n                flexDirection='column'\r\n                width={648}\r\n                height={307}\r\n                borderRadius='5px'\r\n                bgcolor='white'\r\n                >\r\n                <Typography\r\n                    variant='h4'\r\n                    className={classes.titleStyle}\r\n                >Enter the rooom\r\n                </Typography>\r\n                \r\n                <TextField\r\n                    required\r\n                    id=\"outlined-required\"\r\n                    label=\"Nickname\"\r\n                    variant=\"outlined\"\r\n                    value={name}\r\n                    className={classes.nicknameStyle}\r\n                    onChange={handleChangeName}\r\n                 />\r\n                <TextField\r\n                    required\r\n                    id=\"outlined-required\"\r\n                    label=\"Room ID\"\r\n                    variant=\"outlined\"\r\n                    value={link}\r\n                    className={classes.textfieldLink}\r\n                    onChange={handleChangeLink}\r\n                 />\r\n                 <div className={classes.alignbutton}>\r\n                    <Button\r\n                        size=\"large\"\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        className={classes.nextButton}                     \r\n                    >\r\n                            join\r\n                    </Button>\r\n                </div>\r\n                </Box>\r\n            </Container>\r\n        </ThemeProvider>\r\n    )\r\n};\r\n\r\nexport default RoomLobby;\r\n","import React from 'react';\r\nimport {ThemeProvider, makeStyles} from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport theme from '../../../style/theme/MainTheme';\r\n\r\nconst useStyles = makeStyles({\r\n    list: {\r\n        width: 250,\r\n    },\r\n    fullList: {\r\n        width: 'auto',\r\n    },\r\n    menuIcon: {\r\n        margin: '8px'\r\n    }\r\n});\r\n\r\nconst RoomSidebar = () => {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useState(false);\r\n\r\n    const toggleDrawer = (event) => {\r\n        if (event.type === 'keydown') {\r\n            return;\r\n        }\r\n\r\n        setState(!state);\r\n    };\r\n\r\n    const list = () => (\r\n        <div\r\n            className={classes.list}\r\n            role=\"presentation\"\r\n            onClick={toggleDrawer}\r\n            onKeyDown={toggleDrawer}\r\n        >\r\n            <List>\r\n                {['Inbox', 'Starred', 'Send email', 'Drafts'].map((text, index) => (\r\n                    <ListItem button key={text}>\r\n                        <ListItemIcon>{index % 2 === 0 ? <InboxIcon/> : <MailIcon/>}</ListItemIcon>\r\n                        <ListItemText primary={text}/>\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n            <Divider/>\r\n            <List>\r\n                {['All mail', 'Trash', 'Spam'].map((text, index) => (\r\n                    <ListItem button key={text}>\r\n                        <ListItemIcon>{index % 2 === 0 ? <InboxIcon/> : <MailIcon/>}</ListItemIcon>\r\n                        <ListItemText primary={text}/>\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <div>\r\n                <MenuIcon\r\n                    onClick={toggleDrawer}\r\n                    color='primary'\r\n                    fontSize='large'\r\n                    className={classes.menuIcon}\r\n                />\r\n                <Drawer\r\n                    open={state}\r\n                    onClose={toggleDrawer}\r\n                >\r\n                    {list()}\r\n                </Drawer>\r\n            </div>\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nexport default RoomSidebar;\r\n\r\n","import React from 'react';\r\nimport {Box} from \"@material-ui/core\";\r\n\r\nconst RoomPluginContent = () => {\r\n\r\n    return (\r\n        <Box bgcolor='salmon' flexGrow={1}>\r\n            Plugin Content\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default RoomPluginContent;\r\n","// The place to put all helper methods that do not necessarily belong to a specific component\r\n// Once this file gets too crowded, create an utils folder and start seperating the exported helper methods\r\n\r\nimport {useEffect, useRef, useState} from \"react\";\r\n\r\n/**\r\n * Transforms a javascript object into a query string.\r\n * @param object The source object. Example: {a: 5, b: 10}\r\n * @returns {string} The resulting query string. Example 'a=5&b=10'\r\n */\r\nexport const serializeQueryString = object => {\r\n    return Object.entries(object).map(([key, value]) => `${key}=${value}`).join('&');\r\n};\r\n\r\n/**\r\n * Set the src of a html5 <video> element and start playing\r\n * @param videoRef The reference to the video element\r\n * @param stream The stream that should be played by the referenced video element\r\n * @param muted Whether or not the audio of the stream should be muted\r\n */\r\nexport const setVideoSrc = (videoRef, stream, muted= true) => {\r\n    if (videoRef.current && stream) {\r\n        videoRef.current.srcObject = stream;\r\n        videoRef.current.oncanplay = () => {\r\n            videoRef.current.play();\r\n            videoRef.current.muted = muted;\r\n        };\r\n    }\r\n};\r\n\r\n// untested prototype for a hook that might replace setVideoSrc(). Right now there is no benefit of using it. Rethink design\r\nexport const useStream = (muted = false) => {\r\n    const videoRef = useRef(null);\r\n    const [stream, setStream] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (videoRef.current && stream) {\r\n            videoRef.current.srcObject = stream;\r\n            videoRef.current.oncanplay = () => {\r\n                videoRef.current.play();\r\n                videoRef.current.muted = muted;\r\n            };\r\n        }\r\n    }, [stream, videoRef, muted]);\r\n\r\n    return [videoRef, setStream];\r\n};\r\n","import React, {useEffect, useRef} from 'react';\r\nimport {Card, makeStyles} from \"@material-ui/core\";\r\nimport {setVideoSrc} from \"../../../../utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    cardWrapper: {\r\n        marginBottom: '5px',\r\n    },\r\n    media: {\r\n        width: '100%',\r\n        height: '120px',\r\n        objectFit: 'cover'\r\n    }\r\n}));\r\n\r\nconst GenericMediaCard = ({stream, muted = false, user}) => {\r\n    const classes = useStyles();\r\n    const videoRef = useRef(null);\r\n    const {nickname, peerId} = user;\r\n\r\n    useEffect(() => {\r\n        setVideoSrc(videoRef, stream, muted);\r\n    }, [stream]);\r\n\r\n    return (\r\n        <Card className={classes.cardWrapper}>\r\n            <video ref={videoRef} className={classes.media}/>\r\n            {nickname}\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default GenericMediaCard;\r\n","// streams cannot be directly stored in redux because they are a data blob. Thats why we reference them here\r\n// This is experimental and possibly subject to change if we find a better solution.\r\n\r\nclass StreamStore {\r\n    constructor() {\r\n        this.streams = {};\r\n    }\r\n\r\n    setStream = (peerId, stream) => {\r\n        return this.streams[peerId] = stream;\r\n    };\r\n\r\n    getStream = peerId => {\r\n        return this.streams[peerId];\r\n    };\r\n\r\n    clearStream = peerId => {\r\n        const stream = this.streams[peerId];\r\n        if (stream) {\r\n            stream.getTracks().forEach((track) => track.stop());\r\n        }\r\n    };\r\n\r\n    clearAllStreams = () => {\r\n        Object.keys(this.streams).forEach(peerId => {\r\n            this.clearStream(peerId);\r\n        })\r\n    };\r\n}\r\n\r\nconst streamStore = new StreamStore();\r\nwindow.streamStore = streamStore; // for debugging\r\n\r\nexport default streamStore;\r\n","import {SET_STREAM} from \"../actionTypes\";\r\nimport streamStore from \"../streamStore\";\r\n\r\nexport const setStream = (peerId, isActive) => (dispatch, getState) => {\r\n    dispatch({\r\n        type: SET_STREAM,\r\n        payload: {peerId, isActive}\r\n    });\r\n};\r\n\r\nexport const startLocalStream = () => async (dispatch, getState) => {\r\n    const localPeer = getState().localUser.peer;\r\n     try {\r\n         let mediaStream = await navigator.mediaDevices.getUserMedia({video: true, audio: true});\r\n         streamStore.setStream(localPeer.id, mediaStream);\r\n         dispatch(setStream(localPeer.id, true));\r\n\r\n         window.localStream = mediaStream;\r\n     } catch (error) {\r\n         console.error('local stream couldnt be started via \"startStream()\"', error);\r\n     }\r\n};\r\n\r\n","import {ADD_CALL, REMOVE_CALL} from \"../actionTypes\";\r\nimport {setStream} from \"./streams.actions\";\r\nimport streamStore from \"../streamStore\";\r\n\r\nexport const addCall = call => (dispatch, getState) => {\r\n    if (call) {\r\n        dispatch({\r\n            type: ADD_CALL,\r\n            payload: {call}\r\n        });\r\n\r\n        dispatch(initCallListeners(call));\r\n    }\r\n};\r\n\r\nexport const removeCall = call => (dispatch, getState) => {\r\n    if (call) {\r\n        dispatch({\r\n            type: REMOVE_CALL,\r\n            payload: {call}\r\n        });\r\n    }\r\n};\r\n\r\nexport const initCallListeners = call => (dispatch, getState) => {\r\n    if (call) {\r\n        call.on('stream', remoteMediaStream => {\r\n            streamStore.setStream(call.peer, remoteMediaStream);\r\n            dispatch(setStream(call.peer, true));\r\n        });\r\n    }\r\n};\r\n","import React, {useEffect} from 'react';\r\nimport GenericMediaCard from \"../GenericMediaCard/GenericMediaCard\";\r\nimport {connect} from \"react-redux\";\r\nimport streamStore from \"../../../../store/streamStore\";\r\nimport {addCall} from \"../../../../store/actions/calls.actions\";\r\n\r\nconst RemoteMediaCard = ({localPeer, localStream, remoteStream, connection, addCall}) => {\r\n\r\n    useEffect(() => {\r\n        if (localPeer && connection && !remoteStream) {\r\n            handleStartCall();\r\n        }\r\n    }, [localPeer, connection]);\r\n\r\n\r\n    const handleStartCall = () => {\r\n        if (localPeer) {\r\n            const call = localPeer.call(connection.peer, localStream);\r\n            addCall(call);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <GenericMediaCard stream={remoteStream} user={{nickname: 'remote'}} />\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const localPeer = state.localUser.peer;\r\n    const remotePeerId = ownProps.connection.peer;\r\n    const remoteStream = remotePeerId ? streamStore.getStream(remotePeerId) : null;\r\n    return {\r\n        localPeer: localPeer,\r\n        localStream: localPeer ? streamStore.getStream(localPeer.id) : null,\r\n        remoteStream: remoteStream,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {addCall})(RemoteMediaCard);\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport RemoteMediaCard from \"../RemoteMediaCard/RemoteMediaCard\";\r\n\r\nconst RemoteMediaManager = ({localPeer, localStream, connections}) => {\r\n    return (\r\n        <>\r\n            {localPeer && localStream && connections && connections.map(connection => {\r\n                return <RemoteMediaCard key={connection.connectionId} connection={connection} />\r\n            })\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    connections: Object.values(state.connections.data)\r\n});\r\n\r\nexport default connect(mapStateToProps)(RemoteMediaManager);\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport GenericMediaCard from \"./GenericMediaCard/GenericMediaCard\";\r\nimport {Box, Card, makeStyles} from \"@material-ui/core\";\r\nimport {setVideoSrc} from \"../../../utils\";\r\nimport RemoteMediaManager from \"./RemoteMediaManager/RemoteMediaManager\";\r\nimport streamStore from \"../../../store/streamStore\";\r\nimport {startLocalStream} from \"../../../store/actions/streams.actions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    roomMediaManager: {\r\n        padding: '5px',\r\n    },\r\n}));\r\n\r\nconst RoomMediaManager = ({localPeer, localStream, startLocalStream}) => {\r\n    const classes = useStyles();\r\n    const localVideoRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            // unmount\r\n            streamStore.clearAllStreams();\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (localPeer && localPeer.id) {\r\n            startLocalStream();\r\n        }\r\n    }, [localPeer]);\r\n\r\n    // set src of <video> to remote stream when available\r\n    useEffect(() => {\r\n        if (localStream) {\r\n            setVideoSrc(localVideoRef, localStream, true);\r\n        }\r\n    }, [localStream]);\r\n\r\n    return (\r\n        <Box bgcolor='lightblue' width={'200px'} minWidth={'150px'} className={classes.roomMediaManager}>\r\n            {console.log('localStream--', localStream)}\r\n            <GenericMediaCard stream={localStream} muted={true} user={{nickname: 'local'}}/>\r\n            <RemoteMediaManager localPeer={localPeer} localStream={localStream} />\r\n        </Box>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    const localPeer = state.localUser.peer;\r\n    // const localStreamActive = state.streams.data[localPeer];\r\n    const localStream = localPeer ? streamStore.getStream(localPeer.id) : null;\r\n    return {\r\n        localPeer: state.localUser.peer,\r\n        // localStreamActive: localStreamActive,\r\n        localStream: localStream\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {startLocalStream})(RoomMediaManager);\r\n","import {ADD_CONNECTION, REMOVE_CONNECTION} from \"../actionTypes\";\r\n\r\nexport const addConnection = connection => (dispatch, getState) => {\r\n    if (connection.peer && connection.connectionId) {\r\n        dispatch({\r\n            type: ADD_CONNECTION,\r\n            payload: {connection}\r\n        });\r\n\r\n        dispatch(initConnectionListeners(connection));\r\n    }\r\n};\r\n\r\nexport const removeConnection = connection => (dispatch, getState) => {\r\n    if (connection.connectionId) {\r\n        dispatch({\r\n            type: REMOVE_CONNECTION,\r\n            payload: {connection}\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const initConnectionListeners = connection => (dispatch, getState) => {\r\n    if (connection && connection.connectionId) {\r\n        connection.on('data', data => {\r\n            const parsedData = JSON.parse(data);\r\n            if (parsedData.textMessage) {\r\n                console.log( `%c MESSAGE - ${parsedData.textMessage.author}: \"${parsedData.textMessage.text}\"`, 'background: black; color: white; padding: 1rem');\r\n            }\r\n\r\n            // TODO this is where we could receive plugin data of other peers. Example: coords where they placed something in a game.\r\n            if (parsedData.pluginData) {\r\n                console.log('received plugin data:', parsedData);\r\n            }\r\n        });\r\n\r\n        connection.on('close', () => {\r\n            dispatch(removeConnection(connection));\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const joinRoom = (roomId, password) => (dispatch, getState) => {\r\n    const {socket, peer} = getState().localUser;\r\n\r\n    if (socket && peer) {\r\n        socket.emit('join', {roomId, password, peerId: peer.id},\r\n            // callback: the joining user himself is responsible to establish connections with other users\r\n            (data) => {\r\n                if (data) {\r\n                    console.log('joined room', data);\r\n                    data.room.joinedUsers.forEach((remotePeerId) => {\r\n                        if (remotePeerId !== peer.id) {\r\n                            const connection = peer.connect(remotePeerId, { metadata: { nickname: 'test-metadata'}});\r\n                            dispatch(addConnection(connection));\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    }\r\n};\r\n","import {INIT_LOCAL_USER_PEER, INIT_LOCAL_USER_SOCKET, SET_LOCAL_USER_METADATA} from \"../actionTypes\";\r\nimport Peer from \"peerjs\";\r\nimport {API_BASE_URL, PORT_SIGNALING, PORT_SOCKET, SSL_ENABLED} from \"../../constants\";\r\nimport io from \"socket.io-client\";\r\nimport {serializeQueryString} from \"../../utils\";\r\nimport {addConnection, initConnectionListeners, removeConnection} from \"./connections.actions\";\r\nimport {addCall} from \"./calls.actions\";\r\nimport streamStore from \"../streamStore\";\r\n\r\nconst initLocalUserPeer = (customPeerId) => async (dispatch, getState) => {\r\n    const peer = await new Peer(customPeerId, {\r\n        host: API_BASE_URL,\r\n        port: PORT_SIGNALING,\r\n        path: '/peer/signal',\r\n        // debug: 3,\r\n        config: {iceServers: [{url: 'stun:stun.l.google.com:19302'}]}\r\n    });\r\n\r\n    dispatch({\r\n        type: INIT_LOCAL_USER_PEER,\r\n        payload: {peer}\r\n    });\r\n\r\n    dispatch(initLocalUserPeerListeners(peer));\r\n};\r\n\r\n\r\n/**\r\n * Init the socket.io client. Once socket is ready, init the peerJS Peer and store them in the store.\r\n * @param queryParams\r\n * @returns {function(...[*]=)}\r\n */\r\nexport const initLocalUser = (queryParams) => async (dispatch, getState) => {\r\n    // FIXME peer init can fail when socket.id start with an underscore. Rarely happens though\r\n    const protocol = SSL_ENABLED ? 'https' : 'http';\r\n    const socket = io(`${protocol}://${API_BASE_URL}:${PORT_SOCKET}`, {\r\n        // transports: ['websocket'],\r\n        secure: SSL_ENABLED,\r\n        query: serializeQueryString(queryParams)\r\n    });\r\n\r\n    socket.on('ready', (socketId) => {\r\n        dispatch({\r\n            type: SET_LOCAL_USER_METADATA,\r\n            payload: {metadata: queryParams}\r\n        });\r\n\r\n        dispatch({\r\n            type: INIT_LOCAL_USER_SOCKET,\r\n            payload: {socket}\r\n        });\r\n\r\n        dispatch(initLocalUserPeer(socketId));\r\n    });\r\n};\r\n\r\nconst initLocalUserPeerListeners = (peer) => (dispatch, getState) => {\r\n    const localPeer = peer || getState().localUser.peer;\r\n\r\n    if (localPeer) {\r\n        localPeer.on('open', id => {\r\n            console.log('------------------------My peer ID is: ' + localPeer.id, localPeer);\r\n        });\r\n\r\n        localPeer.on('connection', connection => {\r\n            dispatch(addConnection(connection));\r\n        });\r\n\r\n        localPeer.on('call', call => {\r\n            const localStreamActive = getState().streams.data[localPeer.id];\r\n            console.log('ONCALL action, local stream active: ', localStreamActive, streamStore.getStream(localPeer.id));\r\n            call.answer(); // TODO get reference of local stream from redux acces the streamMap that cannot be stored in redux (blob data)\r\n            dispatch(addCall(call));\r\n        })\r\n    }\r\n//\r\n//\r\n//             localPeer.on('call', call => {\r\n//                 console.log('-----------------ONCALL', call);\r\n//                 if (call.peer === connection.peer) {\r\n//                     // call.answer(localStream); // TODO get reference of local stream from redux acces the streamMap that cannot be stored in redux (blob data)\r\n//\r\n//\r\n//                 } else {\r\n//                     console.log('call doesnt match connectionId, call:', call, 'connection:', connection)\r\n//                 }\r\n//             });\r\n//\r\n//\r\n//\r\n//         });\r\n//     }\r\n};\r\n","import React, {useEffect} from 'react';\r\nimport {Box} from \"@material-ui/core\";\r\nimport RoomSidebar from \"./RoomSidebar/RoomSidebar\";\r\nimport RoomPluginContent from \"./RoomPluginContent/RoomPluginContent\";\r\nimport RoomMediaManager from \"./RoomMediaManager/RoomMediaManager\";\r\nimport {connect} from \"react-redux\";\r\nimport {addConnection, removeConnection, joinRoom} from \"../../store/actions/connections.actions\";\r\nimport {initLocalUser} from \"../../store/actions/localUser.actions\";\r\n\r\nconst Room = ({socket, localPeer, connections, match, initLocalUser, joinRoom}) => {\r\n    useEffect(() => {\r\n        initLocalUser({nickname: 'andiiii'});\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (localPeer) {\r\n            const roomId = match.params.roomId;\r\n            joinRoom(roomId, 'dummy123');\r\n        }\r\n    }, [localPeer]);\r\n\r\n    useEffect(() => {\r\n        // On unmount: notify other people that you left before actually disconnecting\r\n        return () => {\r\n            const roomId = match.params.roomId;\r\n\r\n            if (socket) {\r\n                socket.emit('leave', roomId);\r\n            }\r\n\r\n            if (connections) {\r\n                Object.values(connections).forEach(conn => conn.close());\r\n            }\r\n        }\r\n    }, [socket]);\r\n\r\n    return (\r\n        <>\r\n            <RoomSidebar />\r\n\r\n            <Box display='flex' flexDirection='column' width={1} height={'calc(100% - 60px)'} justifyContent={'space-between'} >\r\n                <Box display='flex' flexDirection='row' width={1} height={'90%'} justifyContent={'space-between'}>\r\n                    <RoomPluginContent/>\r\n                    <RoomMediaManager />\r\n                </Box>\r\n\r\n                {/* space for some easy access actions like mute, enable camera, chat etc*/}\r\n                <Box bgcolor={'wheat'} height={'10%'}> </Box>\r\n\r\n            </Box>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    socket: state.localUser.socket,\r\n    localPeer: state.localUser.peer,\r\n    connections: state.connections.data,\r\n});\r\n\r\nexport default connect(mapStateToProps, {addConnection, removeConnection, initLocalUser, joinRoom})(Room);\r\n","export const API_BASE_URL = 'derpmasters.online'; // will use a environment variable later on\r\n// export const API_BASE_URL = 'localhost'; // uncomment for local development\r\n\r\nexport const PORT_SIGNALING = '5001';\r\nexport const PORT_SOCKET = '5002';\r\n\r\nexport const SSL_ENABLED = true;\r\n","import React from 'react';\r\nimport {ThemeProvider, makeStyles} from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport theme from '../../style/theme/MainTheme';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    titleStyle: {\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        marginTop: '98px'\r\n    },\r\n    buttonStyle: {\r\n        borderRadius: '50px',\r\n        width: '106px',\r\n        fontWeight: 'bold',\r\n        border: '2px solid #E53935',\r\n        '&:hover': {\r\n            color: 'white',\r\n            backgroundColor: '#E53935',\r\n        },\r\n        '&:focus': {\r\n            outline: 0,\r\n        }\r\n    }\r\n});\r\n\r\n\r\nconst Home = () => {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            {/* Header */}\r\n            <Box\r\n                height={63}\r\n                bgcolor='#E53935'\r\n            > </Box>\r\n\r\n            {/* Body */}\r\n            <Box\r\n                height={640}\r\n                display='flex'\r\n            >\r\n                {/* left box */}\r\n                <Box\r\n                    display='flex'\r\n                    flexDirection='column'\r\n                    width='50%'\r\n                    height='100%'\r\n                    bgcolor='#FDD835'\r\n                    alignItems='center'\r\n                >\r\n                    <Typography\r\n                        variant='h3'\r\n                        className={classes.titleStyle}\r\n                        gutterBottom\r\n                    > Create a new room\r\n                    </Typography>\r\n                    <Link to=\"/create-room\" style={{textDecoration: 'none'}}>\r\n                        <Button\r\n                            size=\"large\"\r\n                            color='primary'\r\n                            className={classes.buttonStyle}\r\n                        >\r\n                            Create\r\n                        </Button>\r\n                    </Link>\r\n                </Box>\r\n\r\n                {/* right box */}\r\n                <Box\r\n                    display='flex'\r\n                    flexDirection='column'\r\n                    width='50%'\r\n                    height='100%'\r\n                    bgcolor='#FB8C00'\r\n                    alignItems='center'\r\n                >\r\n                    <Typography\r\n                        variant=\"h3\"\r\n                        className={classes.titleStyle}\r\n                        gutterBottom\r\n                    > Join a room\r\n                    </Typography>\r\n                    <Button\r\n                        size=\"large\"\r\n                        color='primary'\r\n                        className={classes.buttonStyle}\r\n                    >Join\r\n                    </Button>\r\n                </Box>\r\n            </Box>\r\n            {/*Temporary for debugging purposes*/}\r\n            <Link to={'/rooms/dummy-room-id'}>Test room</Link>\r\n        </ThemeProvider>\r\n    )\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport { ThemeProvider, makeStyles } from '@material-ui/core/styles';\r\nimport theme from '../../style/theme/MainTheme';\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    containerStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        paddingTop: '128px'\r\n    },\r\n    titleStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        padding: '16px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        backgroundColor: '#FB8C00',\r\n    },\r\n    formControl: {\r\n        width: '20%',\r\n        margin: '16px'\r\n    },\r\n    select: {\r\n        borderColor: '#FB8C00',\r\n        '&:before': {\r\n            borderColor: '#FB8C00',\r\n        },\r\n        '&:after': {\r\n            borderColor: '#f57c00',\r\n        }\r\n    },\r\n    textfield: {\r\n        width: '616px',\r\n        marginLeft: '16px',\r\n    },\r\n    textfieldLink: {\r\n        width: '506px',\r\n        marginRight: '16px',\r\n        marginLeft: '16px',\r\n    },\r\n    alignButton: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n        margin: '16px'\r\n    },\r\n    myButton: {\r\n        color: 'white',\r\n        boxShadow: 'none'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n      },\r\n    copyLink: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginTop: '16px'\r\n    },\r\n    nextButton: {\r\n        color: 'white',\r\n        boxShadow: 'none',\r\n        margin: '32px',\r\n        width: '576px'\r\n    },\r\n    subtitle: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        marginTop: '16px'\r\n    }\r\n});\r\n\r\nconst RoomCreateForm = () => {\r\n    const [status, setStatus] = React.useState('');\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('https://www.figma.com/file/By2kgyeP0jIK0txwX2ZF0 https://www.figma.com/file/By2kgyeP0jIK0txwX2ZF0 https://www.figma.com/file/By2kgyeP0jIK0txwX2ZF0 https://www.figma.com/file/By2kgyeP0jIK0txwX2ZF0');\r\n    const [active, setActive ] = React.useState(true);\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (event) => {\r\n        setStatus(event.target.value);\r\n    };\r\n\r\n    const handleChangeTexfield = (event) => {\r\n        setName(event.target.value)\r\n    };\r\n\r\n    const createRoom = () => {\r\n        if(name.length > 0 && status.length > 0) {\r\n            setActive(false);\r\n            console.log(status, name)\r\n        } else {\r\n            console.log('error')\r\n        }\r\n    };\r\n    \r\n    const copyToClipboard = () =>{\r\n        let mylink = link;\r\n        mylink.select();\r\n        document.execCommand('copy');\r\n    };\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            {/* Header */}\r\n            <Box \r\n                display='flex'\r\n                height={63}\r\n                bgcolor='#E53935'\r\n                alignItems='center'\r\n                paddingLeft='36px'\r\n            >\r\n               <Link to=\"/\" style={{ textDecoration: 'none', color: 'white'}}>\r\n                    <ArrowBackIosIcon/>\r\n               </Link> \r\n            </Box>\r\n\r\n            {/* Body */}\r\n            <Container\r\n                className={classes.containerStyle}\r\n            >\r\n                {/* create a new room */}\r\n                {active?\r\n                <Box\r\n                    display='flex'\r\n                    flexDirection='column'\r\n                    width={648}\r\n                    height={307}\r\n                    borderRadius='5px'\r\n                    bgcolor='white'\r\n                >\r\n                    <Typography\r\n                        variant='h4'\r\n                        className={classes.titleStyle}\r\n                    >Create a new room\r\n                    </Typography>\r\n\r\n                    <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                        <InputLabel id=\"demo-simple-select-outlined-label\">Status</InputLabel>\r\n                        <Select\r\n                    \r\n                        labelId=\"demo-simple-select-outlined-label\"\r\n                        id=\"demo-simple-select-outlined\"\r\n                        value={status}\r\n                        onChange={handleChange}\r\n                        label=\"Status\"\r\n                        className={classes.select}\r\n                        >\r\n                        <MenuItem value={'Privat'}>Privat</MenuItem>\r\n                        <MenuItem value={'Public'}>Public</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n\r\n                    <TextField\r\n                        required\r\n                        id=\"outlined-required\"\r\n                        label=\"Room name\"\r\n                        variant=\"outlined\"\r\n                        value={name}\r\n                        onChange={handleChangeTexfield}\r\n                        className={classes.textfield}\r\n                    />\r\n                    <div className={classes.alignButton}> \r\n                            <Button\r\n                                size=\"large\"\r\n                                color=\"secondary\"\r\n                                variant=\"contained\"\r\n                                className={classes.myButton}\r\n                                onClick={createRoom}                       \r\n                            >\r\n                                create\r\n                            </Button>\r\n                    </div>\r\n                </Box>:\r\n                \r\n                // share your room\r\n                <Box\r\n                display='flex'\r\n                flexDirection='column'\r\n                width={648}\r\n                height={307}\r\n                borderRadius='5px'\r\n                bgcolor='white'\r\n                >\r\n                <Typography\r\n                    variant='h4'\r\n                    className={classes.titleStyle}\r\n                >Room was created\r\n                </Typography>\r\n                \r\n                <div className={classes.copyLink}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        value={link}\r\n                        onChange={handleChangeTexfield}\r\n                        className={classes.textfieldLink}\r\n                    />\r\n                    <Button\r\n                        size=\"large\"\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        className={classes.myButton}\r\n                        onClick={() => {navigator.clipboard.writeText(link)}}                  \r\n                    >\r\n                        copy\r\n                    </Button>\r\n                </div> \r\n                <Typography\r\n                        variant='h6'\r\n                        className={classes.subtitle}\r\n                    > Share your link and invite someone to your room\r\n                </Typography>\r\n                \r\n                <Link to=\"/room-lobby/1\" style={{ textDecoration: 'none',}}>\r\n                 <Button\r\n                    size=\"large\"\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    className={classes.nextButton}                     \r\n                   >\r\n                        next\r\n                </Button>\r\n                </Link>\r\n               </Box>\r\n            }\r\n            </Container>\r\n        </ThemeProvider>\r\n    )\r\n};\r\n\r\nexport default RoomCreateForm;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport RoomLobby from \"../RoomLobby/RoomLobby\";\r\nimport Room from \"../Room/Room\";\r\nimport Home from \"../Home/Home\";\r\nimport RoomCreateForm from \"../RoomCreateForm/RoomCreateForm\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nconst App = () => {\r\n    return (\r\n        <CssBaseline>\r\n            <Router>\r\n                <Switch>\r\n                    <Route exact path='/' component={Home} />\r\n                    <Route exact path='/create-room' component={RoomCreateForm} />\r\n                    <Route exact path='/room-lobby/:roomId' component={RoomLobby} />\r\n                    <Route path='/rooms/:roomId' component={Room} />\r\n                </Switch>\r\n            </Router>\r\n        </CssBaseline>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React, {StrictMode} from 'react';\r\nimport './index.scss';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <>\r\n      <Provider store={store}>\r\n          <App />\r\n      </Provider>\r\n  </>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}